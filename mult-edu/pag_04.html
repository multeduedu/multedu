<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multiplicador x 02 </title>
  <link rel="stylesheet" href="./css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    /* Estilos existentes */
    .custom-select,
    .custom-input {
      width: 70px;
      text-align: center;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .x11-label {
      font-size: 1.5rem;
      font-weight: bold;
      margin-left: 10px;
      display: inline-block;
      vertical-align: middle;
    }

    .button-label {
      font-size: 1rem;
      font-weight: bold;
      width: 120px;
      text-align: center;
    }

    .centered-row {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      flex-wrap: nowrap;
      position: relative;
    }

    .button-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .container {
      height: 100vh;
      padding: 40px;
    }

    .video-container {
      position: fixed;
      top: 10px;
      right: 10px;
      width: 350px;
      height: 100px;
      z-index: 100;
    }

    .arrow {
      position: absolute;
      font-size: 2rem;
      color: red;
      animation: bounce 1s infinite;
      transition: left 0.3s ease;
    }

    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    /* Estilo para o input do resultado digitado */
    .custom-input {
      width: 80px;
      font-size: 2rem;
    }

    /* Estilos responsivos existentes */
    @media (max-width: 768px) {
      .video-container {
        position: relative;
        width: 100%;
        height: auto;
        top: 0;
        right: 0;
        margin-bottom: 20px;
      }
       /* Ajustes para inputs e r√°dios em telas pequenas */
       .centered-row.mb-4 {
           flex-wrap: wrap; /* Permite quebra de linha para os inputs */
           justify-content: space-around; /* Distribui inputs ao quebrar */
           gap: 15px; /* Espa√ßo entre inputs empilhados ou em linha */
       }
       .radio-input-wrapper {
           flex-direction: row; /* R√°dio e input lado a lado */
           gap: 5px; /* Espa√ßo entre r√°dio e input */
       }
       .text-center { /* Garante que o container de cada input/radio centralize */
           width: auto; /* Deixa o wrapper determinar a largura */
           text-align: center; /* Mant√©m o text-align caso o flex n√£o ocupe 100% */
       }
    }

    /* Estilo para o wrapper do bot√£o de r√°dio e input */
    .radio-input-wrapper {
      display: flex;
      align-items: center; /* Alinha verticalmente o r√°dio e o input */
      gap: 5px; /* Espa√ßo entre o r√°dio e o input */
      justify-content: center; /* Centraliza o conte√∫do dentro deste wrapper */
    }

    /* Opcional: Estilizar o bot√£o de r√°dio se necess√°rio */
    .radio-input-wrapper input[type="radio"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
    }


  </style>
</head>

<body class="p-4">

  <header style="margin-bottom: 2rem;">
    <a href="./atividades.html"><button  class="voltar-main">‚Üê Voltar</button></a>
  </header>

  <br><br>
  <h1 style="
	text-align: center;
	font-size: 3rem;
	font-weight: bold;
	font-family: 'Indie Flower', cursive;
	background: linear-gradient(to right, #ff7f50, #ff6347);
	-webkit-background-clip: text;
	color: transparent;
	text-shadow: 1px 1px 2px #eab359;">
    Multiplica√ß√£o por 02 - Metodologia Trachtenberg
  </h1>

  <div class="video-container">
    <iframe width="320" height="180" src="https://www.youtube.com/embed/XPylUHjQgxg?si=0F3YPckTS8SI_igD" frameborder="0"
      allowfullscreen></iframe>
  </div>

  <div class="container d-flex flex-column justify-content-center align-items-center">
    <h3 class="mb-5 text-center">Selecione os n√∫meros e digite valores:</h3>

    <div class="button-row mb-5">
      <button class="btn btn-secondary button-label" onclick="mostrarAjuda(5)">5¬∞ D√≠gito</button>
      <button class="btn btn-secondary button-label" onclick="mostrarAjuda(4)">4¬∞ D√≠gito</button>
      <button class="btn btn-secondary button-label" onclick="mostrarAjuda(3)">3¬∞ D√≠gito</button>
      <button class="btn btn-secondary button-label" onclick="mostrarAjuda(2)">2¬∞ D√≠gito</button>
      <button class="btn btn-secondary button-label" onclick="mostrarAjuda(1)">1¬∞ D√≠gito</button>
    </div>

    <div class="centered-row mb-5" id="selectRow">
      <div id="arrow" class="arrow" style="display: none;">‚¨áÔ∏è</div>

      <select class="form-select bg-danger text-white custom-select" id="select5" disabled>
        <option value="0" selected>0</option>
        </select>

      <select class="form-select bg-warning custom-select" id="select4"></select>
      <select class="form-select bg-success text-white custom-select" id="select3"></select>
      <select class="form-select bg-primary text-white custom-select" id="select2"></select>
      <select class="form-select bg-info text-white custom-select" id="select1"></select>

      <div class="x11-label">√ó 2 </div>
    </div>

    <div class="centered-row mb-4">
      <div class="text-center">
        <input placeholder="5¬∫" type="text" class="form-control custom-input" maxlength="1" inputmode="numeric"
          pattern="[0-9]" id="input5" />
      </div>

      <div class="text-center">
        <div class="radio-input-wrapper">
          <input type="radio" name="digitSelector" id="radioDigit4">
          <input placeholder="4¬∫" type="text" class="form-control custom-input" maxlength="1" inputmode="numeric"
            pattern="[0-9]" id="input4" />
        </div>
      </div>

      <div class="text-center">
        <div class="radio-input-wrapper">
          <input type="radio" name="digitSelector" id="radioDigit3">
          <input placeholder="3¬∫" type="text" class="form-control custom-input" maxlength="1" inputmode="numeric"
            pattern="[0-9]" id="input3" />
        </div>
      </div>

      <div class="text-center">
        <div class="radio-input-wrapper">
          <input type="radio" name="digitSelector" id="radioDigit2">
          <input placeholder="2¬∫" type="text" class="form-control custom-input" maxlength="1" inputmode="numeric"
            pattern="[0-9]" id="input2" />
        </div>
      </div>

      <div class="text-center">
        <div class="radio-input-wrapper"> <input type="radio" name="digitSelector" id="radioDigit1"> <input placeholder="1¬∫" type="text" class="form-control custom-input" maxlength="1" inputmode="numeric"
            pattern="[0-9]" id="input1" />
        </div>
      </div>
    </div>

    <div class="mt-4 d-flex align-items-center gap-3">
      <button class="btn btn-primary btn-lg w-100" onclick="multiplicarNumeroDosSelects()">Conferir</button>
      <button class="btn btn-primary btn-lg w-100" onclick="limparSelects()">Limpar</button>
    </div>
  </div>

  <audio id="sound1" src="https://cdn.pixabay.com/audio/2022/03/15/audio_7f92e8632f.mp3"></audio>
  <audio id="sound2" src="https://cdn.pixabay.com/audio/2022/03/03/audio_95f2764d7e.mp3"></audio>
  <audio id="sound3" src="https://cdn.pixabay.com/audio/2021/09/01/audio_3e4fe70987.mp3"></audio>
  <audio id="sound4" src="https://cdn.pixabay.com/audio/2022/02/24/audio_d50e6f0bdb.mp3"></audio>

  <script>
    // Preenche os selects 1 a 4 com op√ß√µes de 0 a 9
    for (let i = 1; i <= 4; i++) {
      const select = document.getElementById(`select${i}`);
      if (select) {
        select.innerHTML = '';
        for (let j = 0; j <= 9; j++) {
          const option = document.createElement("option");
          option.value = j;
          option.textContent = j;
          select.appendChild(option);
        }
         select.value = '0'; // Define a op√ß√£o selecionada padr√£o para 0
      }
    }

    // Limita inputs a 1 n√∫mero (mantido)
    document.querySelectorAll('.custom-input').forEach(input => {
      input.addEventListener('input', () => {
        input.value = input.value.replace(/[^0-9]/g, '').slice(0, 1);
      });
    });

    // Fun√ß√£o para som + popup + seta (mantida)
    function mostrarAjuda(numero) {
      const som = document.getElementById(`sound${numero}`);
      if (som) som.play();

      const mensagens = {
        1: "Dobrar o 1¬∫ valor e colocar na caixa. Se o total for 10 ou mais, selecionar o ponto e somar mais 1 ao pr√≥ximo.",
        2: "Dobrar o 2¬∫ valor e colocar na caixa. Se o total for 10 ou mais, selecionar o ponto e somar mais 1 ao pr√≥ximo.",
        3: "Dobrar o 3¬∞ valor e colocar na caixa. Se o total for 10 ou mais, selecionar o ponto e somar mais 1 ao pr√≥ximo.",
        4: "Dobrar o 4¬∞ valor e colocar na caixa. Se o valor for maior que 9, selecionar o ponto e somar mais 1 ao pr√≥ximo.",
        5: "Dobrar o 5¬∫ valor e colocar na caixa. Se o total for 10 ou mais, selecionar o ponto e somar 1.",
      };

      Swal.fire({
        title: `Ajuda: ${numero}¬∞ D√≠gito do Resultado`,
        text: mensagens[numero] || "A√ß√£o n√£o definida.",
        icon: 'info',
        confirmButtonText: 'Entendi!',
        confirmButtonColor: '#3085d6'
      });

      const arrow = document.getElementById("arrow");
      let targetSelectId;
      switch (numero) {
          case 1: targetSelectId = 'select1'; break;
          case 2: targetSelectId = 'select2'; break;
          case 3: targetSelectId = 'select3'; break;
          case 4: targetSelectId = 'select4'; break;
          case 5: targetSelectId = 'select5'; break;
          default: return;
      }

      const targetSelect = document.getElementById(targetSelectId);


      if (targetSelect && arrow) {
        setTimeout(() => {
          const rect = targetSelect.getBoundingClientRect();
          const containerRect = document.querySelector(".centered-row.mb-5").getBoundingClientRect();

          const offsetX = rect.left - containerRect.left + (rect.width / 2) - (arrow.offsetWidth / 2);
          const offsetY = rect.top - containerRect.top - arrow.offsetHeight - 40;

          arrow.style.left = `${offsetX}px`;
          arrow.style.top = `${offsetY}px`;
          arrow.style.display = "block";

          setTimeout(() => {
            arrow.style.display = "none";
          }, 7000);
        }, 100);
      }
    }


    // Compara√ß√£o com resultado √ó11 (mantida, ajustada para iterar corretamente pelos selects e inputs)
    function multiplicarNumeroDosSelects() {
      const selectsValues = [];
      for (let i = 1; i <= 4; i++) {
        const selectEl = document.getElementById(`select${i}`);
        if (selectEl) {
           selectsValues.push(selectEl.value.trim());
        }
      }
       const select5El = document.getElementById('select5');
       if (select5El) {
            selectsValues.push(select5El.value.trim());
       }


      const inputsValues = [];
       for (let i = 1; i <= 5; i++) {
           const inputEl = document.getElementById(`input${i}`);
           if (inputEl) {
               inputsValues.push(inputEl.value.trim());
           }
       }


       const numeroOriginalArr = selectsValues.reverse();
       const numeroDigitadoArr = inputsValues.reverse();

       const numeroOriginal = numeroOriginalArr.join('');
       const numeroDigitado = numeroDigitadoArr.join('');


      if (!numeroDigitado) {
        Swal.fire('‚ö†Ô∏è Aviso', 'Digite sua resposta nos campos abaixo.', 'warning');
        return;
      }


      const numeroConvertido = Number(numeroOriginal);
      if (isNaN(numeroConvertido)) {
        Swal.fire('Erro', 'Valor inv√°lido nos seletores. Certifique-se de que s√£o n√∫meros.', 'error');
        return;
      }

      const resultadoCorreto = String(numeroConvertido * 2);

       const numeroDigitadoSemZeros = numeroDigitado.replace(/^0+/, '');
       const resultadoCorretoSemZeros = resultadoCorreto.replace(/^0+/, '');


      if (numeroDigitadoSemZeros === resultadoCorretoSemZeros) {
        Swal.fire('‚úÖ Acertou!', `A multiplica√ß√£o de ${numeroOriginal} √ó 2 √©: ${resultadoCorreto}`, 'success');
      } else {
        Swal.fire('‚ùå Errou!', `Sua resposta digitada (${numeroDigitado}) est√° incorreta.\nO resultado correto de ${numeroOriginal} √ó 2 √©: ${resultadoCorreto}`, 'error');
      }
    }

    // Limpar selects e inputs (mantida, ajustada para iterar corretamente)
    function limparSelects() {
      for (let i = 1; i <= 4; i++) {
        const selectEl = document.getElementById(`select${i}`);
        if (selectEl) selectEl.value = '0';
      }

       for (let i = 1; i <= 5; i++) {
           const inputEl = document.getElementById(`input${i}`);
           if (inputEl) inputEl.value = '';
       }

       const select5El = document.getElementById('select5');
       if (select5El) select5El.value = '0';


      Swal.fire('üßπ Limpo!', 'Todos os valores foram limpos', 'info');
    }


  </script>

  </body>

</html>